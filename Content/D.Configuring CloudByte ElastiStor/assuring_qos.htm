<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="4" MadCap:lastHeight="2794" MadCap:lastWidth="861">
    <head>
    </head>
    <body>
        <h2 style="color: #013364;font-family: sans-serif;font-size: 18pt;">Assuring Quality of Service</h2>
        <h3 style="color: #005db2;font-size: 15pt;font-family: sans-serif;">Introduction</h3>
        <p style="font-family: sans-serif;font-size: 11pt;">Assuring quality of service makes your storage performance predictable. CloudByte ElastiStor is unique in its QoS offering as it lets you</p>
        <ul style="list-style-type: square;">
            <li style="font-family: sans-serif;font-size: 11pt;text-align: justify;">Easily commission storage with guaranteed IOPS at various levels. You can decide to configure QoS at a Pool level, VSM level, or Storage Volume level.</li>
            <li style="text-align: justify;font-family: sans-serif;font-size: 11pt;">Configure multidimensional QoS involving IOPS, throughput, latency, and capacity.</li>
            <li style="text-align: justify;font-size: 11pt;font-family: sans-serif;">Utilize untapped system resources. For example, assume that you have three VSMs but only one is active. In this case, the active VSM can use the entire system’s capability.</li>
            <li style="text-align: justify;font-family: sans-serif;font-size: 11pt;">On-demand modification of settings without system restarts.</li>
        </ul>
        <h3 style="color: #005db2;font-family: sans-serif;font-size: 14pt;">Choosing your QoS</h3>
        <p style="font-family: sans-serif;font-size: 11pt;">The following points help you choose an appropriate QoS:</p>
        <p style="font-family: sans-serif;font-size: 11pt;"><b>Endpoint</b>: Decide at what level you want to implement QoS.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>Select a capable pool</b>: Based on VSM’s requirements, you provision it on a capable Pool that can meet the requirements. Define the pool level QoS, based on Pool configuration and the controller level. QoS is determined based on the Pool capacity, which is the underlying storage capability.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>QoS provisioning</b>: Understand your VSM’s QoS requirements across the data access and data protection needs. Based on the requirement of the VSM, you can either choose QoS automatically or manually. Ensure that you are aware of the Pool settings and how effectively you want to use it at the VSM level.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>Sub-divide QoS</b>: Within a VSM, based on varying needs, further sub-divide QoS across Storage Volume, based on the guarantee that the administrator wants to set. For example, when a VSM is used to store logs in the database, since logs need higher IOPS and lower throughput and latency, set it accordingly. Whereas a database requires low IOPS, high throughput, and high latency.</p>
        <h3 style="color: #005db2;font-family: sans-serif;font-size: 14pt;">Configuration</h3>
        <p style="font-family: sans-serif;font-size: 11pt;">Use ElastiCenter to configure QoS settings. The configuration can be at the following levels:</p>
        <ul style="list-style-type: square;">
            <li style="font-family: sans-serif;font-size: 11pt;">Pool: For details, see <MadCap:xref href="create_stor_pool.htm" style="color: #008000;">Creating a Storage pool</MadCap:xref>.</li>
            <li style="font-family: sans-serif;font-size: 11pt;">Account: For details, see <MadCap:xref href="create_account.htm" style="font-family: sans-serif;font-size: 11pt;color: #008000;">Creating an Account</MadCap:xref>.</li>
            <li style="font-family: sans-serif;font-size: 11pt;">VSM: For details, see <MadCap:xref href="provision_vsm.htm" style="color: #008000;">Provisioning VSM</MadCap:xref>.</li>
        </ul>
        <h3 style="font-family: sans-serif;color: #005db2;font-size: 14pt;">Configuring Grace</h3>
        <h4 style="font-family: sans-serif;color: #005db2;font-size: 12pt;">What is Grace</h4>
        <p style="font-family: sans-serif;font-size: 11pt;text-align: justify;">Grace is the provisioning of unused IOPS/throughput of Pools to Storage Volumes based on the performance requirements. You can configure Grace at Pool level and Storage Volume level.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;">For example, assume that you have a Pool with the capacity of 100 IOPS and Grace enabled. Two VSMs named VSM A and VSM B, with a capacity of 30 IOPS and 60 IOPS respectively are created under the Pool.
  </p>
        <p style="text-align: center;">
            <img src="../Resources/Images/Configuring_grace_diagram.png" class="FitToText" />
        </p>
        <ul>
            <li style="font-family: sans-serif;font-size: 11pt;text-align: justify;">Under VSM A (with 30 IOPS capacity), Storage Volumes named E and F are created, and assigned 10 IOPS and 15 IOPS respectively. </li>
            <li style="font-family: sans-serif;font-size: 11pt;text-align: justify;">Under VSM B (with 60 IOPS capacity), Storage Volume G is created and assigned 35 IOPS.</li>
            <li style="text-align: justify;font-family: sans-serif;font-size: 11pt;">The grace available in this scenario is 40 IOPS.</li>
        </ul>
        <h3 style="font-family: sans-serif;color: #005db2;"><a name="GracePool"></a>Configuring Grace at the Pool level</h3>
        <p style="font-family: sans-serif;font-size: 11pt;text-align: justify;">Grace is enabled by default at the Pool level. You can edit Grace after creating the Pool. </p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;">To edit,</p>
        <ol>
            <li style="font-family: sans-serif;font-size: 11pt;">Go to the Pool page and then in the actions icon, click Settings.</li>
            <li style="font-family: sans-serif;font-size: 11pt;">Click Edit and then choose to enable/disable Grace.</li>
        </ol>
        <h3 style="font-family: sans-serif;">Configuring Grace at the Storage Volume level</h3>
        <p style="font-family: sans-serif;font-size: 11pt;">To enable Grace at the Storage Volume level, ensure that Grace is enabled at the respective Pool level.</p>
        <p style="font-family: sans-serif;font-size: 11pt;">To edit,</p>
        <ol>
            <li style="font-family: sans-serif;font-size: 11pt;">Go to the Storage Volume page and then in the actions icon, click Settings.</li>
            <li style="font-family: sans-serif;font-size: 11pt;">Click Edit and then choose to enable/disable Grace.</li>
            <li style="font-family: sans-serif;font-size: 11pt;">Click Save.</li>
        </ol>
        <h2 style="color: #013364;font-family: sans-serif;">Monitoring QoS</h2>
        <p style="font-family: sans-serif;font-size: 11pt;">In the Storage Volume page, select the Volume for which you want to monitor QoS. The page that appears displays the monitoring data.</p>
        <h2 style="color: #013364;font-family: sans-serif;">QoS&#160;tips</h2>
        <h3 style="font-family: sans-serif;color: #005db2;">Storage capacity</h3>
        <h4 style="font-family: sans-serif;color: #005db2;font-weight: normal;">Discs, storage connectivity, and type</h4>
        <p style="font-family: sans-serif;font-size: 11pt;text-align: justify;"><b>Capability</b>: Ensure that you are well aware of the capabilities of your storage subsystem. For example, the right interconnection between the controller and storage, the type of disks on the disk array, and the ability to expand the capacity.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>Limitations</b>: Ensure that you have assessed the limitations. For example, increasing storage capacity does not make any sense if the network does not support.</p>
        <h4 style="font-family: sans-serif;font-size: 13pt;color: #005db2;">Controller characteristics</h4>
        <h5 style="font-family: sans-serif;font-size: 10.8pt;font-weight: normal;">RAM, CPU, and Network:</h5>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>CPU</b>: If the storage is more I/O bound than CPU bound, it is more effective. CPU load should not be more than 60-70 percent, or you add more cores.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>RAM</b>: RAM determines the ability to cache. Larger RAM means more filesystem caches. In a READ-centric scenario, larger RAM helps generate better QOS. That is, more I/O and throughput but lesser latency.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>Network</b>: Network capacity decides data access and data protection. Assure adequate network bandwidth to export performance to clients. Network should do justice to the storage system.</p>
        <p><b>Segregation</b>: Segregate data access and data protection so that protection workloads do not interfere with data access workloads.</p>
        <h3 style="font-family: sans-serif;color: #005db2;">Pool creation</h3>
        <h4 style="color: #005db2;font-family: sans-serif;">Storage group tips</h4>
        <p style="font-family: sans-serif;font-size: 11pt;text-align: justify;">As a best practice, create storage with 8 to 10 disks. When you add storage groups, keep them identical. For example, do not add disparate groups to the same Pool. For example, if one group has SATA disks and another group has SAS disks, then do not assign both to the same Pool. That is, do not create hybrid Pools.</p>
        <h4 style="font-family: sans-serif;color: #005db2;">Multiple Pools within a Controller</h4>
        <p style="text-align: justify;font-size: 11pt;font-family: sans-serif;"><b>Tips to avoid contention points</b>: Be judicious when you add multiple Pools to a controller. For example, it does not make sense if network bandwidth is already utilized to the maximum with the existing Pools, or CPUs are already busy serving the existing Pools. QoS also suffers because of over provisioning.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>When to combine multiple pools:</b> When no conflict pertaining to bandwidth, CPU, or Memory exist, you can combine Pools.</p>
        <h3 style="color: #005db2;font-family: sans-serif;">Optimizing QoS</h3>
        <p style="text-align: justify;font-size: 11pt;font-family: sans-serif;"><b style="font-family: sans-serif;font-size: 11pt;">Disk characteristics</b>: Better the disk characteristics, better the QOS. For example, the IOPS, throughput, and latency of SATA disks are not as good as that of SS disks.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>Disk layout</b>: Better the disk layout, better the QoS. For example, keep the disk layout to 8 to 10 disks.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>Improving WRITE performance</b>: If the application requires synchronous WRITES, associate high performing disk to the Pool to speed up the WRITEs. This guarantees better QOS.</p>
        <p style="text-align: justify;font-family: sans-serif;font-size: 11pt;"><b>Improving READ performance</b>: To improve the READ performance or increase the filesystem cache hit rate, add high performing disks as cache devices to the Pool.</p>
    </body>
</html>